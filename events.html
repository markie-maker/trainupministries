<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>TrainUp Ministries</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css" />
    </noscript>

    <style>
        body {
            font-family: Verdana, sans-serif;
            margin: 0;
        }

        .slideshow-container {
            max-width: 100vw;
            position: relative;
            margin: auto;
            height: 100vh;
            overflow: hidden;
        }

        .mySlides {
            position: absolute;
            width: 100%;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }

        .mySlides img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .mySlides.show {
            opacity: 1;
            z-index: 1;
        }

        @media only screen and (max-width: 300px) {
            .text {
                font-size: 11px;
            }
        }

        .calendar-nav {
            text-align: center;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 62rem;
        }

        .calendar {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            width: 100%;
            max-width: 62rem;
        }

        .calendar>* {
            flex: 1 0 calc((100% - 6 * 0.5rem) / 7);
            /* 7 columns with 0.5rem gap between them */
            max-width: calc((100% - 6 * 0.5rem) / 7);
        }


        .calendarContainer {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0 auto;
            max-width: 62rem;
            width: 100%;
            height: auto;
            flex-shrink: 1;
            position: relative;
        }

        .day,
        .header {
            border: 2px solid #f5f5f5 !important;
            padding: 10px;
            min-height: 100px;
        }

        .header {
            background-color: #f5f5f5;
            font-weight: bold;
            text-align: center;
        }

        .day {
            background-color: #fff;
            vertical-align: top;
            width: 13.6%;
        }

        .calEvent {
            font-size: 0.75rem;
            margin-top: 5px;
            text-align: center;
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            line-height: normal;
            padding: 0.5rem 0.25rem;
            border-radius: 0 4px 4px 0;
        }

        .calEvent:hover {
            background-color: #bbdefb;
            cursor: pointer;
        }

        .dateTime {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            width: 100%;
            border-bottom: 1px solid #ccc;
            padding-bottom: 10px;
        }

        .location {
            padding: 10px 0;
            border-bottom: 1px solid #ccc;
        }

        .closeModal {
            margin-top: 0.75rem;
        }

        /* Disable calendar on smaller devices than a tablet */
        @media screen and (max-width: 768px) {
            .calendarContainer {
                display: none;
            }

            .eventModalBg {
                display: none;
            }

            .eventModal {
                width: 90%;
                max-width: 500px;
                margin: 0 auto;
            }

            .event {
                width: 100%;
                max-width: 100%;
            }
        }

        #header::after {
            content: "";
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.2);
        }

        #header {
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: calc(50vh + 4rem);
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            background-color: #f1f1f1;
        }

        .header-image {
            width: 100vw;
            height: 100vh;

            object-fit: cover;

            position: absolute;
            top: 0;
            z-index: 2;
        }
    </style>
</head>

<body class="is-preload">


    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header"
            style="background-color: transparent; z-index: 3; padding: 0; display: flex; justify-content: center; height: calc(50vh + 4rem);">
            <h1 style="z-index: 3;">Events</h1>
        </header>
        <img src="vineyard-header.jpg" alt="Temecula" class="header-image">

        <!-- Nav -->
        <nav id="nav">
            <a href="./" id="navLink" class="logo"><img src="transparentLogo.svg" id="navLogo" alt="TrainUp Logo"></a>
            <ul class="links">
                <li><a href="./">Home</a></li>
                <li><a href="./about">About</a></li>
                <li><a class="active" href="./events">Events</a></li>
                <li><a href="./contactUs">Contact Us</a></li>
                <li><a href="./give">Give</a></li>
            </ul>
            <!-- <ul class="icons">
				<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
				<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
				<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
				<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
			</ul> -->
        </nav>

        <!-- Main -->
        <div id="main">
            <section class="wrapper style1 align-center">
                <div class="inner">
                    <h2>Upcoming Events</h2>
                    <p style="text-align: center;">Join us for our upcoming events designed to inspire and uplift our
                        community.</p>
                </div>
            </section>
            <section>
                <div id="eventContainer">
                </div>
            </section>


            <!-- Calendar -->
            <section style="display: flex; justify-content: center; align-items: center; flex-direction: column;">

                <div class="calendarContainer fit">
                    <div class="calendar-nav">
                        <button class="primary button" onclick="changeMonth(-1)"><svg xmlns="http://www.w3.org/2000/svg"
                                height="20px" viewBox="0 -960 960 960" width="20px" fill="#FFFFFF">
                                <path d="m330-444 201 201-51 51-288-288 288-288 51 51-201 201h438v72H330Z" />
                            </svg></button>
                        <h3 id="calendar-title"></h3>
                        <button class="primary button" onclick="changeMonth(1)"><svg xmlns="http://www.w3.org/2000/svg"
                                height="20px" viewBox="0 -960 960 960" width="20px" fill="#FFFFFF">
                                <path d="M630-444H192v-72h438L429-717l51-51 288 288-288 288-51-51 201-201Z" />
                            </svg></button>
                    </div>
                    <div class="calendar" id="calendar">

                    </div>
                    <button style="max-width: 62rem; margin: 1rem auto;" class="alt button fit"
                        onclick="resetCalendar()">Reset
                        Calendar</button>
                </div>

            </section>
            <div class="eventModalBg"></div>


            <!-- Modals -->
            <div id="modalContainer">

            </div>
            <div class="fade eventModal event" id="communityService">
                <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem 0;">
                    <h3 style="display: inline; margin: 0;">Community Service Day</h3>
                    <svg class="close" onclick="closeModal('communityService');" xmlns="http://www.w3.org/2000/svg"
                        height="40px" viewBox="0 -960 960 960" width="40px" fill="#000000">
                        <path
                            d="m251.33-204.67-46.66-46.66L433.33-480 204.67-708.67l46.66-46.66L480-526.67l228.67-228.66 46.66 46.66L526.67-480l228.66 228.67-46.66 46.66L480-433.33 251.33-204.67Z" />
                    </svg>
                </div>
                <img src="communityService.jpg" alt="">
                <p class="borderBottom">Date: March 15, 2025</p>
                <p style="margin-bottom: 1rem !important;" class="borderBottom noMarginTop">Join us for a day of service
                    in our
                    local community. We will be
                    cleaning
                    parks, helping at
                    shelters, and more.</p>
                <form action="#" method="post">
                    <div style="margin: 0 auto; width: 100%;" class="modalForm row gtr-uniform">
                        <div style="width: 100%;" class="col-12">
                            <label for="name">Name</label>
                            <input type="text" name="name" id="name" value="" placeholder="Jane Doe" />
                        </div>
                        <div style="width: 100%;" class="col-12">
                            <label for="phone">Phone</label>
                            <input type="tel" name="phone" id="phone" value="" placeholder="(123)-456-789" />
                        </div>
                        <div style="width: 100%;" class="col-12">
                            <label for="message">Guests attending with you:</label>
                            <input type="number" name="guests" id="guests" value="0" min="0" max="99" />
                        </div>
                        <div style="width: 100%;" class="col-12">
                            <ul class="actions">
                                <li><input type="submit" value="RSVP" class="primary" /></li>
                                <li><input type="reset" value="Reset" /></li>
                            </ul>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Footer -->
            <footer id="footer" style="flex-direction: column;">
                <section class="contact">
                    <section class="alt">
                        <h3>Address</h3>
                        <p>30766 Bloomfest Street<br />
                            Murrieta, California</p>
                    </section>
                    <section>
                        <h3>Phone</h3>
                        <p><a href="#">(714) 906-4227</a></p>
                    </section>
                    <section>
                        <h3>Email</h3>
                        <p>
                            <a
                                href="mailto:&#104;&#117;&#109;&#112;&#104;&#114;&#101;&#121;&#46;&#103;&#97;&#99;&#104;&#97;&#110;&#106;&#97;&#64;&#116;&#114;&#97;&#105;&#110;&#117;&#112;&#109;&#105;&#110;&#105;&#115;&#116;&#114;&#105;&#101;&#115;&#46;&#99;&#111;&#109;">
                                humphrey.gachanja [at] trainupministries.com
                            </a>
                        </p>

                    </section>
                    <section>
                        <h3>Social</h3>
                        <ul class="icons alt">
                            <li><a href="https://www.instagram.com/trainupministries?igsh=NTc4MTIwNjQ2YQ=="
                                    class="icon brands alt fa-instagram"><span class="label">Instagram</span></a>
                            </li>
                        </ul>
                    </section>
                </section>
                <p style="text-align: center;" class="small">
                    Website template based on <a href="https://html5up.net/massively" target="_blank">"Massively"</a>
                    by <a href="https://x.com/ajlkn" target="_blank">@ajlkn</a>,
                    licensed under <a href="http://creativecommons.org/licenses/by/3.0/" target="_blank">Creative
                        Commons Attribution 3.0 Unported</a>.
                </p>
            </footer>


        </div>

        <!-- Scripts -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="assets/js/jquery.scrollex.min.js"></script>
        <script src="assets/js/jquery.scrolly.min.js"></script>
        <script src="assets/js/browser.min.js"></script>
        <script src="assets/js/breakpoints.min.js"></script>
        <script src="assets/js/util.js"></script>
        <script src="assets/js/main.js"></script>



        <script>
            let prevYOffset = window.scrollY;
            window.addEventListener('scroll', () => {
                const currentYOffset = window.scrollY;

                if (currentYOffset > prevYOffset) {
                    document.querySelector('#nav').classList.add('scrolling-down');
                } else {
                    document.querySelector('#nav').classList.remove('scrolling-down');
                }

                prevYOffset = currentYOffset;

                if (currentYOffset > (window.innerHeight * 0.5) + 4 + (parseFloat(getComputedStyle(document.documentElement).fontSize) * 4)) {
                    document.querySelector('#nav').classList.add('main-nav');
                }
                else {
                    document.querySelector('#nav').classList.remove('main-nav');
                }
            });

            function openModal(modalId) {
                document.querySelector('.eventModalBg').style.display = 'block';
                document.getElementById(modalId).style.display = 'block';
                document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open

            }

            function closeModal(modalId) {
                document.querySelector('.eventModalBg').style.display = 'none';
                document.getElementById(modalId).style.display = 'none';
                document.body.style.overflow = 'scroll'; // Re-enable scrolling when modal is closed
            }

            document.querySelector('.eventModalBg').addEventListener('click', () => {
                const modals = document.querySelectorAll('.eventModal');
                modals.forEach(modal => {
                    modal.style.display = 'none';
                });
                document.body.style.overflow = 'scroll'; // Re-enable scrolling when background is clicked
                document.querySelector('.eventModalBg').style.display = 'none';
            });


            // Calendar functionality
            const calendar = document.getElementById('calendar');
            const title = document.getElementById('calendar-title');

            let currentDate = new Date();

            function loadCalendar(month, year) {
                calendar.innerHTML = '';
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const startDayIndex = new Date(year, month, 1).getDay();

                title.textContent = `${new Date(year, month).toLocaleString('default', { month: 'long' })} ${year}`;

                const weekdays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                weekdays.forEach(day => {
                    const header = document.createElement('div');
                    header.className = 'header';
                    header.textContent = day;
                    calendar.appendChild(header);
                });

                for (let i = 0; i < startDayIndex; i++) {
                    calendar.appendChild(document.createElement('div'));
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const dayBox = document.createElement('div');
                    dayBox.className = 'day';
                    dayBox.id = `day-${year}-${month + 1}-${day}`;
                    dayBox.innerHTML = `<strong>${day}</strong>`;
                    calendar.appendChild(dayBox);
                }

                loadEvents(month + 1, year);
            }

            function resetCalendar() {
                currentDate = new Date();
                loadCalendar(currentDate.getMonth(), currentDate.getFullYear());
            }


            function changeMonth(step) {
                currentDate.setMonth(currentDate.getMonth() + step);
                loadCalendar(currentDate.getMonth(), currentDate.getFullYear());
            }

            function loadEvents(month, year) {
                fetch('events.json')
                    .then(res => res.json())
                    .then(events => {
                        events.forEach(event => {
                            const date = new Date(event.date);
                            const eventYear = date.getFullYear();
                            const eventMonth = date.getMonth() + 1;
                            const eventDay = date.getDate();

                            if (eventMonth === month && eventYear === year) {
                                const box = document.getElementById(`day-${eventYear}-${eventMonth}-${eventDay}`);
                                if (box) {
                                    const eventDiv = document.createElement('div');
                                    eventDiv.className = 'calEvent';
                                    eventDiv.textContent = event.title;
                                    eventDiv.onclick = () => openModal(event.modalId);
                                    box.appendChild(eventDiv);
                                }
                            }
                        });
                    })
                    .catch(err => {
                        console.error('Could not load events:', err);
                    });
            }

            // Load current month on start
            loadCalendar(currentDate.getMonth(), currentDate.getFullYear());

            //  Create event cards dynamically using JSON data

            fetch('events.json')
                .then(response => response.json())
                .then(events => {
                    eventContainer = document.getElementById('eventContainer');
                    events.forEach(e => {
                        const event = document.createElement('div');
                        event.className = 'event';
                        event.innerHTML = `
                            <h4>${e.title}</h4>
                            <img src="${e.image}" alt="">
                            <div class="dateTime">
                                <span class="date">${new Date(e.date).toLocaleDateString()}</span>
                                <span class="time">${e.time}</span>
                            </div>
                            <span class="location">${e.location}</span>
                            <p class="noMarginTop">${e.description}</p>
                            <a onclick="openModal('${e.modalId}');" class="button primary fit">RSVP</a>
                        `;
                        eventContainer.appendChild(event);
                    })
                })
                .catch(error => {
                    console.error('Error fetching or parsing JSON:', error);
                });

            // Add Modal for each event
            fetch('events.json')
                .then(response => response.json())
                .then(events => {
                    const modalContainer = document.querySelector('#modalContainer');
                    events.forEach(e => {
                        const modal = document.createElement('div');
                        modal.className = 'fade eventModal event';
                        modal.id = e.modalId;
                        modal.innerHTML = `
                                <div style="display: flex; justify-content: space-between; padding: 1rem 0;">
                                    <h3 style="display: inline; margin: 0;">${e.title}</h3>
                                    <svg class="closeModal" onclick="closeModal('${e.modalId}');" xmlns="http://www.w3.org/2000/svg" height="32px" viewBox="0 -960 960 960" width="32px" fill="#000000">
                                        <path d="m251.33-204.67-46.66-46.66L433.33-480 204.67-708.67l46.66-46.66L480-526.67l228.67-228.66 46.66 46.66L526.67-480l228.66 228.67-46.66 46.66L480-433.33 251.33-204.67Z"/>
                                    </svg>
                                </div>
                                <img src="${e.image}" alt="">
                                <p class="borderBottom">Date: ${new Date(e.date).toLocaleDateString()}</p>
                                <p style="margin-bottom: 1rem !important;" class="borderBottom noMarginTop">${e.description}</p>
                                <form action="${e.formURL}" method="post">
                                    <div style="margin: 0 auto; width: 100%;" class="modalForm row gtr-uniform">
                                        <div style="width: 100%;" class="col-12">
                                            <label for="name">Name</label>
                                            <input type="text" name="name" id="${e.modalId}-name" value="" placeholder="Jane Doe" />
                                        </div>
                                        <div style="width: 100%;" class="col-12">
                                            <label for="phone">Phone</label>
                                            <input type="tel" name="phone" id="${e.modalId}-phone" value="" placeholder="(123)-456-789" />
                                        </div>
                                        <div style="width: 100%;" class="col-12">
                                            <label for="guests">Guests attending with you:</label>
                                            <input type="number" name="guests" id="${e.modalId}-guests" value="0" min="0" max="99" />
                                        </div>
                                        <div style="width: 100%;" class="col-12">
                                            <ul class="actions">
                                                <li><input type="submit" value="RSVP" class="primary" /></li>
                                                <li><input type="reset" value="Reset" /></li>
                                            </ul>
                                        </div>
                                    </div>
                                </form>
                            `;
                        modalContainer.appendChild(modal);
                    });
                })
                .catch(err => {
                    console.error('Could not load events:', err);
                });
        </script>
</body>

</html>